<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register Page</title>
    <link rel="stylesheet" th:href="@{../css/register.css}" href="../css/register.css">
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square.css" rel="stylesheet">
</head>
<body>
<div class="register-box">
    <form  th:action="@{/register}" th:method="post" id="registerForm">
        <h2>회원가입</h2>
        <h2 th:if="${registerValid != null and registerValid['nickname'] == false}">invalid nickname!</h2>
        <h2 th:if="${registerValid != null and registerValid['username'] == false}">invalid username!</h2>
        <div class="user-box">
            <input type="text" id="username" name="username" required>
            <label for="username">Username</label>
        </div>
        <div class="user-box">
            <input type="password" id="password" name="password" required>
            <label for="password">Password</label>
        </div>
        <div class="user-box">
            <input type="password" id="confirm-password" name="confirm-password" required>
            <label for="confirm-password">Confirm Password</label>
        </div>
        <div class="user-box">
            <input type="text" id="nickname" name="nickname" required>
            <label for="nickname">Nickname</label>
        </div>
        <a id="register-btn" type="submit" onclick="submitForm()">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            회원가입
        </a>
        <a id="go-back-btn" th:href="@{/home}">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            뒤로 가기
        </a>
    </form>
</div>
<script>
    const passwordInput = document.getElementById('password');
    const confirmPasswordInput = document.getElementById('confirm-password');
    const registerButton = document.getElementById('register-btn');

    confirmPasswordInput.addEventListener('input', function () {
        if (passwordInput.value !== confirmPasswordInput.value) {
            registerButton.style.display = 'none';
        } else {
            registerButton.style.display = 'inline-block';
        }
    });


    function submitForm() {
        document.getElementById("registerForm").submit();
    }

</script>

</body>
</html>