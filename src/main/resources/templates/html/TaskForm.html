<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Create</title>
    <link rel="stylesheet" th:href="@{../css/TaskForm.css}" href="../css/TaskForm.css">
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square.css" rel="stylesheet">
</head>
<body>
<div class="card-box">
    <div class="task-create-view-title">Task Creation</div>
    <form th:action="@{/{teamId}/createTask (teamId=${teamId})}" method="post" id="task-create-form">
        <div class="input-box">
            <label for="title">제목</label>
            <input type="text" id="title" name="title" placeholder="제목을 입력하세요">
        </div>
        <div class="input-box">
            <label for="content">글 내용</label>
            <textarea onkeyup="adjustTextareaHeight(this);" class="content" id="content" name="content" placeholder="글 내용을 입력하세요"></textarea>
        </div>
        <a type="submit" class="button" onclick="submitForm()">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            작성
        </a>
        <a th:href="@{/team/{teamId} (teamId=${teamId})}" class="button">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            팀 관리 페이지로 가기
        </a>
    </form>
    <span id="count">(0)</span>
</div>

<script>
    function adjustTextareaHeight(textarea) {
        textarea.style.height = 'auto';
        textarea.style.height = textarea.scrollHeight + 'px';
    }
    function counter() {
        var contentText = document.getElementById('content').value;
        document.getElementById('count').innerHTML = '(' + contentText.length + ")";
    }
    counter();

    function submitForm() {
        document.getElementById("task-create-form").submit();
    }
</script>
</body>
</html>